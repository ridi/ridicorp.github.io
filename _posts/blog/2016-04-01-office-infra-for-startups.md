---
layout: blog
category: blog
title: "스타트업을 위한 리디북스의 사내 인프라 구축경험기"
header-img: "img/career-bg-5.jpg"
date: 2016-04-01
author: "Juhyeon Park"
description: "스타트업도 다 같은 스타트업이 아닙니다.
어느 스타트업은 시작부터 넓은 사무실에서 여유있게 업무를 할 수 있겠지만, 누군가는 창고같은 사무실에서 성공을 꿈꾸며 매 순간 절약, 또 절약하며 내일의 성장을 준비하고 있을것입니다. 우리는 후자였고 때문에 성장해가며 여러 시행착오를 겪었습니다."
---

스타트업도 다 같은 스타트업이 아닙니다.
어느 스타트업은 시작부터 넓은 사무실에서 여유있게 업무를 할 수 있겠지만, 누군가는 창고같은 사무실에서 성공을 꿈꾸며 매 순간 절약, 또 절약하며 내일의 성장을 준비하고 있을것입니다. 우리는 후자였고 때문에 성장해가며 여러 시행착오를 겪었습니다.

---

## 네트워크
사람이 살아가는데 물이 필수적이듯이, 이제는 회사가 운영되는데에 인터넷이 필수적입니다. 이 인터넷을 원활히 사용할 수 있도록 네트워크를 잘 구성해야하는게 중요한데, 여기서 저희가 겪고 개선한 몇가지 포인트를 알려드립니다.

### 무선인터넷 쓰세요(데스크탑을 쓰더라도)
데스크탑은 당연히 노트북보다 저렴하고 가성비도 좋지만, 대부분 무선인터넷이 필수 사양에 포함되어있지는 않습니다. 때문에 설치 후 의례히 유선랜을 설치하기 마련입니다만, 회사에서도 꼭 그럴필요는 없습니다.

[유선 랜 사용시]

비용

 * 공유기
 * 허브
 * 랜선
 * 설치 및 유지보수 위한 인적 비용(내부직원 혹은 용역)
 
불편함

 * 물리적 장애(발에 걸려 넘어지거나, 의도치 않은 단선, 자리 이동시 어려움)
 * 랜선 연결 잘못하면, 사내망 트래픽폭주 (트래픽 루프, 원인을 파악하기위해 각 랜선의 분리 연결을 반복해야 함)
 * 랜선 연결 잘못하면, 2중 DHCP (임시로 배치된 공유기가 잘 못 연결되어, DHCP Gateway로 설정되어 있었음)

[무선랜 사용시]

비용

 * 무선공유기
 * 무선랜카드(데스크탑 한정)
 
불편함

 * 무선공유기가 SPOF (무선공유기 장애시 광범위한 업무 불편 초래)

무선공유기 성능이 그리 좋지 않았던 몇년전이면 어쩔 수 없었겠지만, 지금은 최고속도 433Mb 를 지원하는 무선랜USB도 16,000원이면 구매가능하고, 866Mb를 지원하는 괜찮은 모델도 27000원이면 구매가능합니다.  이 속도는 일반적인 업무환경에서 충분하고 넘칩니다. (2016년3월 기준)


### 무선공유기 잘 사세요
가정용과 업무용 환경은 생각보다 다릅니다. 동시 접속과 처리 트래픽 양이 엄청나게 차이가 나게되는데, 무선인터넷 환경은 사용이 쉬운대신 속도저하 발생시 감지 및 원인이 파악이 어려우니 현명한 구매가 중요합니다.

1. 리뷰를 꼭 확인하세요
2. 국내리뷰나 사용기는 사무실 환경에 준하는 테스트가 잘 없습니다.
3. 해외리뷰들은 상대적으로 더 자세하게 비교가 되어있습니다. (smallnetbuilder.com/tools/rankers/router 등)

우리도 국내 점유율 1위 모 브랜드의 제품을 사용했고 초기에는 큰 문제가 없었으나, 사람이 늘어가고 사무실이 넓어지면서 문제가 생겼습니다.

사실 값비싼 엔터프라이즈급 공유기를 구매하면 해결된다지만, 가장 최근 회사에서 사용했던 “TP-LINK Archer C7” 는 국내정식발매 일반 범용 공유기 중에서 가성비가 뛰어나고 업무용으로도 충분히 만족할 만한 수준이었습니다.


### 무선공유기 여러 대 사용시 로밍되도록 세팅 하는 법
무선 공유기를 여러대 사용하면서, 로밍(노트북을들고 사무실 끝에서 끝으로 이동하여도 무선랜 연결 유지되도록)이 되도록 하려면 아래와 같이 하면 됩니다.

 * 모든 무선공유기의 DHCP를 끄고
 * 모든 무선공유기를 SSID 를 동일하게
 * 무선공유기의 WAN을 사용하지 않기
 * 물론 유선 DHCP망은 구축되어있어야 합니다.

TP-LINK 설명 : http://www.tp-link.com/en/faq-417.html
IP TIME 설명 : http://iptime.com/iptime/?pageid=2&page_id=67&uid=7433&mod=document


---

## 네트워크 이외의 것

### NAS를 잘 사용하세요
NAS는 Network Attached Storage의 약자로, 이름으로는 얼핏 단순 저장장치가 아닐까 싶지만, 최근의 NAS는 탑재된 소프트웨어가 비약적으로 발전하여 효율적인 업무에 필수적입니다.

 1. 파일 저장 : 다양한 OS에서 다양한 방법으로 사용가능.
 2. 파일 공유 : 사내 리소스를 외부에 손쉽고 안전하게 공유가능
 3. 권한 관리 : 윈도우 AD, LDAP, 구글SSO 등
 4. 다양한 부가 기능 : DHCP, DNS, CCTV녹화, CCTV중계, VPN, VCS 등
 5. 손쉬운 유지보수 : 장애나 디스크 노후시 알림 (일반 데스크탑에서 “윈도우 공유”를 하면, 디스크가 고장나도 인지하기 힘듦)


### 모바일 기기 테스트 방법
PC에서 웹사이트를 테스트 하는 경우, 별도의 테스트URL 통해서 테스트하면 됩니다. 하지만 안드로이드나 iOS의 앱이라면? 그것도 실제 기기에서 테스트 환경을 테스트 하여 한다면?

준비물

1. 테스트 전용 무선공유기
2. 테스트 웹서버
3. DNS서버 (DNS지원하는 NAS 라면 손쉽게 가능)

설정 예시

1. 테스트 웹서버의 IP : 10.10.10.1
2. 테스트 해야할 도메인 : http://ridibooks.com
3. DNS서버의 IP : 10.10.10.5

설정법

1. DNS 서버 설정
 ridibooks.com : 10.10.10.1
2. 테스트 전용 무선공유기 설정
 DHCP의 기본 DNS 값 : 10.10.10.5
3. 테스트 웹 서버
 ridibooks.com으로 Request 오면 테스트 서버 연결

연결 흐름

1. \<모바일 기기\>에서 \<테스트 전용 무선공유기\>로 접근
2. \<모바일 기기\>의 DNS가 10.10.10.5로 설정
3. \<모바일 기기\>에서 ridibooks.com 접속
4. \<DNS\>에서 ridibooks.com을 10.10.10.1 이라고 알려줌
5. \<모바일 기기\>에서 10.10.10.1 로 ridibooks.com 요청


### SSD 꼭 쓰세요
SSD는 몇 년전만 해도 그렇게 흔하지 않았지만 지금은 보편화되었습니다. 그래도 아직 일반 노트북에는 HDD가 장착되어 판매되는 경우가 많습니다. 이러한 경우에 따로 구매를 해서라도 SSD로 교체를 권장합니다.

컴퓨터의 제일 느린 저장장치인 HDD는 업무지연의 제 1 순위이고, 이 병목을 SSD로 교체하는것 만으로도 체감 성능이 최소 2배는 향상됩니다.

2016년 3월 기준으로 업무용으로 충분한 용량의128GB SSD는 5만원에도 구매가능합니다.


### 책상은 고정시키고, 사람이 이동하세요
막상 성장하면서 떠올리지 못했지만, 조직구성의 시행착오에 따른 변동에 정확하게 맞춰가며 L자 책상을 이쁘게 맞춰서 이동하는 일이 잦았는데,

전선과 랜선의 배치에 자리이동이 제약이 되다보니 결국 “스파게티 코드”가 책상마다 주렁주렁 달리게 되었습니다.

때문에 되도록 책상의 위치를 고정하고 사람이 옮기는게 좋으며, 이렇게 함으로써 번거로운 자리 이동과 복잡한 전선의 스트레스에서 해방 될 수 있습니다.
